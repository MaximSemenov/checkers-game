!function(e){var t={};function l(a){if(t[a])return t[a].exports;var c=t[a]={i:a,l:!1,exports:{}};return e[a].call(c.exports,c,c.exports,l),c.l=!0,c.exports}l.m=e,l.c=t,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)l.d(a,c,function(t){return e[t]}.bind(null,c));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/assets/",l(l.s=1)}([function(e,t,l){},function(e,t,l){"use strict";function a(e,t){for(var l=0;l<t.length;l++){var a=t[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}l.r(t);var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.chessBoardTable=document.getElementById(t),this.counter=0,this.myCell={cell:null,class:null},document.addEventListener("keydown",this.shiftCell.bind(this),!1)}return function(e,t,l){t&&a(e.prototype,t),l&&a(e,l)}(e,[{key:"createChessBoard",value:function(e,t){var l=document.createElement("tr");l.id="row"+this.counter,this.chessBoardTable.appendChild(l);for(var a=0,c=e;c<t;c++){var r=document.createElement("td");r.setAttribute("data-cell-x",a),r.setAttribute("data-cell-y",this.counter),r.className=c%2==0?"white":"brown",l.appendChild(r),a++}7!==this.counter&&(this.counter++,this.counter%2==1?this.createChessBoard(1,9):this.createChessBoard(0,8))}},{key:"setByClick",value:function(e){this.myCell.cell&&(this.myCell.cell.className=this.myCell.class),this.myCell.cell=e.target,this.myCell.class=e.target.className,e.target.className="blue"}},{key:"setByKeyBoard",value:function(e){this.myCell.cell&&(this.myCell.cell.className=this.myCell.class),this.myCell.cell=e,this.myCell.class=e.className,e.className="blue"}},{key:"shiftCell",value:function(e){var t,l;switch(t=this.myCell.cell.dataset.cellX,l=this.myCell.cell.dataset.cellY,e.keyCode){case 37:this.goLeft(t,l);break;case 38:this.goUp(t,l);break;case 39:this.goRight(t,l);break;case 40:this.goDown(t,l)}}},{key:"goUp",value:function(e,t){if(0!=t){var l=document.querySelector("[data-cell-x='".concat(e,"'][data-cell-y='").concat(t-1,"']"));this.setByKeyBoard(l)}}},{key:"goLeft",value:function(e,t){if(0!=e){var l=document.querySelector("[data-cell-x='".concat(e-1,"'][data-cell-y='").concat(t,"']"));this.setByKeyBoard(l)}}},{key:"goRight",value:function(e,t){if(7!=e){var l=document.querySelector("[data-cell-x='".concat(+e+1,"'][data-cell-y='").concat(t,"']"));this.setByKeyBoard(l)}}},{key:"goDown",value:function(e,t){if(7!=t){var l=document.querySelector("[data-cell-x='".concat(e,"'][data-cell-y='").concat(+t+1,"']"));this.setByKeyBoard(l)}}}]),e}();function r(e,t){for(var l=0;l<t.length;l++){var a=t[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.chessBoardWithPieces=t}return function(e,t,l){t&&r(e.prototype,t),l&&r(e,l)}(e,[{key:"setAllPieces",value:function(){var e=chessBoard.querySelectorAll("\n    #row0 td.brown,\n    #row1 td.brown,\n    #row2 td.brown,\n    #row5 td.brown,\n    #row6 td.brown,\n    #row7 td.brown"),t="player1",l=!0,a=!1,c=void 0;try{for(var r,s=e[Symbol.iterator]();!(l=(r=s.next()).done);l=!0){var i=r.value;i.setAttribute("data-occupied","true"),i===e[12]&&(t="player2"),i.appendChild(document.createElement("div")).classList.add(t)}}catch(e){a=!0,c=e}finally{try{l||null==s.return||s.return()}finally{if(a)throw c}}}}]),e}();function i(e,t){for(var l=0;l<t.length;l++){var a=t[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isPossibleCellsSelected=!1,this.rightCell=null,this.leftCell=null,this.coordinatesToMove=["rightCellX","rightCellY","leftCellX","leftCellY"],this.coordinatesToCapture=["cellX","cellY"],this.player1CoordinatesMap=["-","+","+","+"],this.player2CoordinatesMap=["+","-","-","-"],this.player2mapToCaptureRight=["+","-"],this.player2mapToCaptureLeft=["-","-"],this.player1mapToCaptureRight=["-","+"],this.player1mapToCaptureLeft=["+","+"],this.calcMethods={"-":function(e,t){return e-t},"+":function(e,t){return+e+t}}}return function(e,t,l){t&&i(e.prototype,t),l&&i(e,l)}(e,[{key:"movePiece",value:function(e,t){var l=t.parentElement;l.removeChild(t),l.setAttribute("data-occupied",""),t.classList.remove("selectedPiece"),e.appendChild(document.createElement("div")).classList.add(t.className),e.setAttribute("data-occupied","true")}},{key:"calcCoordinates",value:function(e,t,l,a){var c,r={};for(c=0;c<l.length;c++)r[l[c]]=this.calcMethods[a[c]](c%2==0?e:t,1);return r}},{key:"canBeCaptured",value:function(e,t,l){var a=this.calcCoordinates(e,t,this.coordinatesToCapture,l);console.log(a);var c=document.querySelector("[data-cell-x='".concat(a.cellX,"'][data-cell-y='").concat(a.cellY,"']"));return!c.dataset.occupied&&c}},{key:"getCell",value:function(e,t,l,a){}},{key:"selectPossibleCells",value:function(e,t,l){this.y=l,this.x=t;var a=this.calcCoordinates(t,l,this.coordinatesToMove,"player1"===e?this.player1CoordinatesMap:this.player2CoordinatesMap);if(this.rightCell=document.querySelector("[data-cell-x='".concat(a.rightCellX,"'][data-cell-y='").concat(a.rightCellY,"']")),this.leftCell=document.querySelector("[data-cell-x='".concat(a.leftCellX,"'][data-cell-y='").concat(a.leftCellY,"']")),0==this.x&&("player1"===e?this.rightCell=this.leftCell:this.leftCell=this.rightCell),7==this.x&&("player1"===e?this.leftCell=this.rightCell:this.rightCell=this.leftCell),!this.rightCell.dataset.occupied||!this.leftCell.dataset.occupied)return this.rightCell.dataset.occupied?(console.log("".concat(e,": right cell is occupied.")),this.leftCell.className="selectedCell",this.canBeCaptured(a.rightCellX,a.rightCellY,"player1"===e?this.player1mapToCaptureRight:this.player2mapToCaptureRight)):this.leftCell.dataset.occupied?(console.log("".concat(e,": left cell is occupied.")),this.rightCell.className="selectedCell",this.canBeCaptured(a.leftCellX,a.leftCellY,"player1"===e?this.player1mapToCaptureLeft:this.player2mapToCaptureLeft)):(this.rightCell.className=this.leftCell.className="selectedCell",console.log("".concat(e,": both cells are free.")),!1);console.log("".concat(e,": both cells are occupied."))}}]),e}(),n=(l(0),new c("chessBoard"));n.createChessBoard(0,8);var u=new s(n);u.setAllPieces();var d=new o(u);document.getElementById("chessBoard").addEventListener("click",function(e){var t=e.target;if("DIV"!==t.tagName&&"selectedCell"!==t.className)return;if("selectedCell"===t.className)return d.movePiece(t,this.selectedPiece),d.rightCell&&(d.rightCell.className="brown"),d.leftCell&&(d.leftCell.className="brown"),void(t.className="brown");if(this.selectedPiece===t)return t.classList.remove("selectedPiece"),this.selectedPiece=void 0,d.rightCell.className="brown",void(d.leftCell.className="brown");t.classList.add("selectedPiece"),this.selectedPiece&&(this.selectedPiece.classList.remove("selectedPiece"),d.rightCell.className="brown",d.leftCell.className="brown");this.selectedPiece=t;var l=t.parentElement.dataset.cellY,a=t.parentElement.dataset.cellX,c=t.classList.contains("player1")?d.selectPossibleCells("player1",a,l):d.selectPossibleCells("player2",a,l);c&&(c.className="selectedCell")},!1)}]);